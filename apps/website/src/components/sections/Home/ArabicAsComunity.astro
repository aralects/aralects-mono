---
import WipPhoneMockup from "@components/wip-phone-mockup.astro";
import CommunityIllustration from "@/assets/images/community-illustration.png";
import Image from "astro/components/Image.astro";
import WaitingListButton from "@/components/ui/WaitingListButton.astro";
---

<div class="relative isolate overflow-hidden bg-white">
  <Image
    src={CommunityIllustration}
    alt=""
    class="absolute bottom-0 pt-4 inset-x-0 hidden w-full mx-auto md:block 2xl:hidden z-0"
  />
  <div class="bg-[#8262b0]/90 relative z-[1] py-10">
    <div
      class="xl:container xl:mx-auto flex flex-col justify-between md:flex-row px-10 md:px-20 xl:px-40"
    >
      <div class="flex w-full flex-col justify-center text-white md:w-[50%]">
        <h2
          class="font-LivvicMedium max-w-[540px] text-2xl font-bold md:text-5xl lg:text-6xl intersect-once intersect-half transition motion-safe:opacity-0 motion-safe:intersect:animate-fade-in-up"
        >
          Arabic, as a community, for the community.
        </h2>

        <p
          class="font-LivvicMedium mt-6 w-full font-thin md:w-[80%] md:text-xl intersect-once intersect-half transition motion-safe:opacity-0 motion-safe:intersect:animate-fade-in-up"
        >
          Want to be the first to experience Aralects? Sign up now to be among
          the first to explore Aralects as we get ready to launch!
        </p>
        <WaitingListButton
          text="Join waiting list"
          id="joinWaitingList"
          class="mt-6 intersect-once intersect-half transition motion-safe:opacity-0 motion-safe:intersect:animate-fade-in-up"
        />
      </div>

      <div
        class="ml-auto hidden justify-center md:flex intersect-once intersect-half transition motion-safe:opacity-0 motion-safe:intersect:animate-fade-in-up"
      >
        <WipPhoneMockup class="ml-4" withWipMarquees />
      </div>
    </div>
  </div>
</div>

<script>
  import { smoothScrollTo } from "src/utils/newsletter";

  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("joinWaitingList");
    if (btn) {
      btn.addEventListener("click", () => {
        smoothScrollTo("newsletter", 80);
      });
    }
  });
</script>
